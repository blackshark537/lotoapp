<ion-header>
  <ion-toolbar color="tertiary">
    <ion-title>Usuario: {{user.name | titlecase}}</ion-title>
    <ion-buttons slot="end">
      <ion-button color="danger" fill="solid" (click)="dismiss()">
        <ion-icon name="close-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size="12" size-md="12" size-lg="4">

        <ion-card >
          <ion-card-content>
            <ion-item>
              <ion-avatar slot="start">
                <img src="assets/avatar-1.png" alt="Avatar">
              </ion-avatar>
              <ion-label>
                <h4>Nombre: {{user.name | titlecase}}</h4>
                <h5>Email: {{user.email}}</h5>
                <p>Creado: {{user.created | date: 'short'}}</p>
              </ion-label>
            </ion-item>
            <ion-item>
              <ion-label>Activar:</ion-label>
              <ion-toggle [(ngModel)]="userPreference.active" color="success"></ion-toggle>
            </ion-item>
            <ion-item>
              <ion-label position="fixed">Credits</ion-label>
              <input type="number" (change)="detectChange()" [(ngModel)]="userPreference.credits" />
            </ion-item>
            <ion-item>
              <ion-label position="fixed">Importe</ion-label>
              <input type="number" (change)="detectChange()" [(ngModel)]="userPreference.importe" />
            </ion-item>
            <ion-toolbar>
              <ion-buttons slot="end">
                <ion-button fill="solid" color="{{ hasChanged? 'primary' : 'medium' }}" [disabled]="!hasChanged" (click)="save()">Guardar</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-card-content>
        </ion-card>

      </ion-col>
      <ion-col size="12" size-md="12" size-lg="8">

        <ion-list>
          <ion-list-header>Movimientos de {{user.name | titlecase}}</ion-list-header>
      
          <div class="t-container">
            <table class="table">
              <thead class="thead">
                <tr class="normal">
                  <th>
                    #No
                  </th>
                  <th>
                    Concepto
                  </th>
                  <th>
                    Crédito Inicial
                  </th>
                  <th>
                    Debito
                  </th>
                  <th>
                    Crédito Final
                  </th>
                  <th>
                    Fecha
                  </th>
                </tr>
              </thead>
              <tbody class="tbody">
                <tr *ngFor="let entry of accountingInfo; index as i">
                  <td dir="rtl">{{i+1}}</td>
                  <td dir="ltr">
                    {{entry.concepto}}
                  </td>
                  <td dir="rtl">{{entry.creditoInicial | currency}}</td>
                  <td dir="rtl">{{entry.debito | currency}}</td>
                  <td dir="rtl">{{entry.creditoFinal | currency}}</td>
                  <td dir="ltr">{{entry.fecha}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </ion-list>

      </ion-col>
    </ion-row>
  </ion-grid>
  
</ion-content>